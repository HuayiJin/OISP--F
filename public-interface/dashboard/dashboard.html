<!--
Copyright (c) 2014 Intel Corporation

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<!doctype html>
<html lang="en" ng-app="iotApp" ng-controller="DashboardCtrl"
      ng-intro-options="intro_options"
      ng-intro-method="startTour"
      ng-intro-onchange="ChangeEvent"
      ng-intro-autostart="false">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title>IoT Analytics Dashboard</title>
    <link rel="icon" type="image/png" href="public/favicon.png">

    <meta http-equiv="x-ua-compatible" content="IE=9; IE=8; IE=Edge; chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=0"/>

    <!-- build:css public/css/generated/external-bootstrap.css -->
    <link rel="stylesheet" href="public/css/bootstrap.css"/>
    <!-- endbuild -->

    <link rel="stylesheet" href="public/css/font-awesome.min.css"/>

    <!-- build:css public/css/generated/external-dashboard.css -->
    <link rel="stylesheet" href="public/css/snap/snap.css"/>
    <link rel="stylesheet" href="public/css/rickshaw/rickshaw.css"/>
    <link rel="stylesheet" href="public/css/bootstrap-tagsinput/bootstrap-tagsinput.css"/>

    <link rel="stylesheet" href="public/css/jquery-ui/jquery-ui-1.10.4.custom.css"/>
    <link rel="stylesheet" href="public/css/jquery-ui/ui.theme.css"/>
    <link rel="stylesheet" href="public/css/ng-table/ng-table.css"/>
    <link rel="stylesheet" href="public/css/ngProgress/ngProgress.css"/>
    <link rel="stylesheet" href="public/css/angular-wizard/angular-wizard.css"/>
    <link rel="stylesheet" href="public/css/flipcounter/flipcounter.css"/>
    <link rel="stylesheet" href="public/css/tour/introjs.min.css"/>
    <!-- endbuild -->

    <!-- build:css public/css/generated/iotkit-dashboard.css -->
    <link rel="stylesheet" href="public/css/iot/app.css"/>
    <link rel="stylesheet" href="public/css/iot/color.css"/>

    <link rel="stylesheet" href="public/css/iot/menu.css"/>
    <link rel="stylesheet" href="public/css/iot/headers.css"/>
    <link rel="stylesheet" href="public/css/iot/chart.css"/>
    <link rel="stylesheet" href="public/css/iot/wizard.css"/>
    <link rel="stylesheet" href="public/css/iot/label.css"/>
    <link rel="stylesheet" href="public/css/reload/reload.css"/>
    <!-- endbuild -->



    <!-- build:js public/js/external-dashboard.js -->
    <script src="public/lib/jquery/jquery-1.11.0.min.js"></script>
    <script src="public/lib/jquery/jquery-ui.min.js"></script>
    <script src="public/lib/bootstrap/bootstrap.min.js"></script>
    <script src="public/lib/bootstrap3-typeahead/bootstrap3-typeahead.min.js"></script>
    <script src="public/lib/moment/moment.min.js"></script>
    <script src="public/lib/snap/snap.min.js"></script>

    <script src="public/lib/d3/d3.min.js"></script>

    <script src="public/lib/rickshaw/rickshaw.js"></script>
    <script src="public/lib/rickshaw/extensions.js"></script>
    <script src="public/lib/flipcounter/flipcounter.js"></script>
    <script src="public/lib/async/async.js"></script>

    <script src="public/lib/lodash/lodash.min.js"></script>
    <script src="public/lib/jquery-knob/jquery.knob.js"></script>

    <script src="public/lib/angular/angular.min.js"></script>
    <script src="public/lib/angular-snap/angular-snap.js"></script>
    <script src="public/lib/angular/angular-route.min.js"></script>
    <script src="public/lib/angular/angular-animate.min.js"></script>
    <script src="public/lib/cookies/angular-cookie.min.js"></script>
    <script src="public/lib/ng-table/ng-table.src.js"></script>
    <script src="public/lib/angular-uislider/angular-slider.min.js"></script>
    <script src="public/lib/angular-ui-bootstrap/ui-bootstrap-tpls-0.10.0.min.js"></script>
    <script src="public/lib/bootstrap-tagsinput/bootstrap-tagsinput.js"></script>
    <script src="public/lib/bootstrap-tagsinput/bootstrap-tagsinput-angular.js"></script>
    <script src="public/lib/angular-chart/templates.js"></script>
    <script src="public/lib/angular-chart/angular-charts.min.js"></script>
    <script src="public/lib/ng-i18n/ng-i18n-0.2.1.js"></script>
    <script src="public/lib/ngProgress/ngProgress.min.js"></script>
    <script src="public/lib/angular-wizard/angular-wizard.min.js"></script>
    <script src="public/lib/angular-flash/angular-flash.js"></script>
    <script src="public/lib/tour/intro.js"></script>
    <script src="public/lib/tour/angular-intro.js"></script>
    <script src="public/lib/node-uuid/uuid.js"></script>
    <script src="public/lib/jwt-helper/jwtHelper.js"></script>

    <!-- endbuild -->
    <script type="text/javascript" src="//www.google.com/recaptcha/api/js/recaptcha_ajax.js"></script>

    <!-- build:js public/js/iotkit-dashboard.js -->
    <script src="public/js/iotApp.js"></script>
    <script src="public/js/iotServices.js"></script>
    <script src="public/js/iotController.js"></script>
    <script src="public/js/iotDirectives.js"></script>
    <script src="public/js/controllers/login.js"></script>
    <script src="public/js/services/utility_service.js"></script>
    <script src="public/js/services/polling_service.js"></script>
    <script src="public/js/services/device_service.js"></script>
    <script src="public/js/services/rules_service.js"></script>
    <script src="public/js/services/Rule.js"></script>
    <script src="public/js/services/Filter.js"></script>
    <script src="public/js/services/Error.js"></script>
    <script src="public/js/services/error_utils.js"></script>
    <script src="public/js/services/Catalog.js"></script>

    <script src="public/js/services/data_service.js"></script>
    <script src="public/js/services/adv_data_service.js"></script>
    <script src="public/js/services/account_service.js"></script>
    <script src="public/js/services/about_service.js"></script>
    <script src="public/js/services/user_service.js"></script>
    <script src="public/js/services/login_service.js"></script>
    <script src="public/js/services/invite_service.js"></script>
    <script src="public/js/services/component_service.js"></script>
    <script src="public/js/services/ordering_service.js"></script>
    <script src="public/js/services/filtering_service.js"></script>
    <script src="public/js/services/alerts_service.js"></script>
    <script src="public/js/services/session_service.js"></script>
    <script src="public/js/services/control_service.js"></script>
    <script src="public/js/services/google_captcha_service.js"></script>
    <script src="public/js/services/services_config.js"></script>

    <script src="public/js/controllers/dashboard.js"></script>
    <script src="public/js/controllers/home.js"></script>
    <script src="public/js/controllers/alerts/list-alerts.js"></script>
    <script src="public/js/controllers/alerts/edit-alert.js"></script>
    <script src="public/js/controllers/devices/listDevices.js"></script>
    <script src="public/js/controllers/devices/addEditDevice.js"></script>
    <script src="public/js/controllers/rules/list-rules.js"></script>
    <script src="public/js/controllers/rules/add-edit-rule.js"></script>
    <script src="public/js/controllers/account.js"></script>
    <script src="public/js/controllers/invite.js"></script>
    <script src="public/js/controllers/charts/charts.js"></script>
    <script src="public/js/controllers/charts/customTime.js"></script>
    <script src="public/js/controllers/charts/sendMeasurementsByEmail.js"></script>
    <script src="public/js/controllers/about/about.js"></script>
    <script src="public/js/controllers/control/control.js"></script>
    <script src="public/js/controllers/changePassword.js"></script>
    <script src="public/js/controllers/profile.js"></script>

    <script src="public/js/directives/iotMetricsChart.js"></script>
    <script src="public/js/directives/iotSearchDevices.js"></script>
    <script src="public/js/directives/tableDevices.js"></script>
    <script src="public/js/directives/controls.js"></script>
    <script src="public/js/directives/favorites.js"></script>
    <script src="public/js/directives/totals.js"></script>
    <script src="public/js/directives/knob.js"></script>
    <script src="public/js/directives/messagesCounter.js"></script>
    <script src="public/js/directives/iotkit-alerts.js"></script>
    <script src="public/js/directives/iotkit-notifications.js"></script>
    <script src="public/js/directives/iotkit-user-options.js"></script>
    <script src="public/js/directives/iotkit-utility.js"></script>
    <script src="public/js/directives/iotkit-required-role.js"></script>
    <script src="public/js/directives/password.js"></script>
    <script src="public/js/directives/editableAttributes.js"></script>
    <script src="public/js/directives/httpEndpointHeaders.js"></script>

    <script src="public/lib/recaptcha/angular-recaptcha.min.js"></script>
    <!-- endbuild -->



</head>
<body ng-if="appReady">
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header" id="topnav">
            <div name="navbar-menu" class="navbar-menu navbar-toggle" snap-toggle ng-show="currentAccount">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </div>

            <h1 type="button" class="logo">Intel</h1>
            <a class="navbar-brand" href="#" ng-click="cancel()">IoT Analytics |</a>

            <div class="btn-group" ng-show="!creatingAccount">
                <a href="#/account" class="navbar-brand" ng-if="currentAccount" name="acc{{currentAccount.name}}">{{currentAccount.name}}</a>
                <a class="navbar-brand" ng-if="!currentAccount" ng-click="createAccount()">{{i18n.dashboard.createAccount}}</a>
                <a type="button" id="btnAccountsList" class="navbar-brand btn dropdown-toggle" data-toggle="dropdown">
                    <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                    <li ng-if="userAccounts" ng-repeat="(key,acc) in userAccounts"
                        ng-class="currentAccount && currentAccount.id===key ? 'active' : ''">
                        <a href="" type="button" ng-click="selectAccount(key)">{{acc.name}}</a>
                    </li>
                    <li class="divider" role="presentation"></li>
                    <li>
                        <a id="btnCreateNewAccount" ng-click="createAccount()">{{i18n.dashboard.createAccount}}</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="collapse navbar-collapse pull-right">
            <form class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <iotkit-notifications ng-model="invites"
                                          there-are-notifications-text="{{i18n.dashboard.thereAreInvitationsText}}"
                                          show-up-to="5"
                                          accept-text="{{i18n.dashboard.acceptInvitation}}"
                                          reject-text="{{i18n.dashboard.rejectInvitation}}"
                                          change-status="changeInviteStatus(inviteId,accept)">
                    </iotkit-notifications>
                </div>
                <div class="form-group">
                    <iotkit-alerts ng-model="unreadAlerts"
                                   there-are-alerts-text="{{i18n.dashboard.thereAreAlertsText}}"
                                   show-up-to="3"
                                   unread-alerts-href="#/alerts?filter=New"
                                   more-unread-alerts-text="{{i18n.dashboard.moreUnreadAlertsText}}"
                                   alerts-href="#/alerts"
                                   alerts-href-text="{{i18n.dashboard.showAllAlertsText}}"
                                   open-alert="changeAlertStatus(alert)"
                                   see-details-text="{{i18n.dashboard.seeAlertDetailsText}}">
                    </iotkit-alerts>
                </div>
                <div class="form-group">
                    <iotkit-user-options ng-model="currentUser.email"
                                         social-provider="currentUser.provider"
                                         user-title="{{i18n.button.configure_account}}"
                                         user-edit="{{i18n.auth.change_password}}"
                                         edit-text="{{i18n.account.changepassword}}"
                                         user-href="#/profile"
                                         edit-href="#/changepassword"
                                         sign-out-href="/ui/logout"
                                         sign-out-text="{{i18n.button.sign_out}}">
                    </iotkit-user-options>
                </div>
            </form>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>
<div ng-include="'public/partials/snapMenu.html'"></div>
<div snap-content snap-options="snap_opts" class="scrollable">


    <div class="container-fluid">
        <div class="wrap-center page-header">
            <h1 class="charts">
                {{page.title}}
            </h1>
        </div>

        <div ng-view class="container" style="width:100%"></div>


        <div id="alert-1" flash-alert active-class="in" class="alert fade alert-default dashboard-alert" duration="6000">
            <button type="button" class="close" ng-click="hide()">&times;</button>
            <strong class="alert-heading">{{resBundle.alertTypes[flash.type]}} </strong>
            <span class="alert-message">{{flash.message}}</span>
        </div>



    </div>
</div>
</body>
</html>
